---
import { Image } from 'astro:assets';
import MainLayout from '../layouts/MainLayout.astro';
import lazydogs from '../assets/images/lazydogs.jpg'; // Adjust the path as needed

const title = 'Hjem';
---

<MainLayout title={title}>
    <div class='relative'>
        <Image
            src={lazydogs}
            alt='Bilde: Lazy dogs'
            widths={[240, 540, 720, 1754]}
            sizes={'(max-width: 640px) 100vw, 640px'}
            loading={'eager'}
            class='w-full object-cover opacity-0 transition-opacity duration-200'
            id='fadeInImage'
        />
    </div>

    <section class='py-12'>
        <h1 class='text-center'>Popul√¶re kunstverk</h1>
        <!-- Add your featured artworks or other content here -->
    </section>
</MainLayout>

<style>
    .fade-in {
        animation: fadeIn 0.2s ease-in forwards;
    }

    @keyframes fadeIn {
        from {
            transform: translateY(8px);
            opacity: 0;
        }
        to {
            opacity: 1;
        }
    }
</style>

<script>
    function fadeInImage() {
        const img = document.getElementById('fadeInImage');
        if (img) {
            img.classList.add('fade-in');
        }
    }

    // Run on initial load
    window.addEventListener('load', fadeInImage);

    // For Astro's view transitions
    document.addEventListener('astro:page-load', fadeInImage);
</script>
